<!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" />
  <title>JAHARUL GAME</title>
  <style>
    * { box-sizing: border-box; }
    html, body { margin: 0; padding: 0; background: #1a1d22; overflow-x: hidden; font-family: sans-serif; }

    .container {
      position: relative;
      width: 100%;
      max-width: 500px;
      margin: 0 auto;
    }

    .bg-img {
      width: 100%;
      display: block;
      user-select: none;
      -webkit-user-drag: none;
    }

    /* --- BRANDING FIXES --- */
    .brand-overlay {
      position: absolute;
      background: #1a1d22; 
      color: #f3c34d;
      font-weight: 900;
      z-index: 5;
    }

    .main-logo { top: 2.2%; left: 4%; width: 45%; height: 3.5%; font-size: 5.5vw; }
    .welcome-text { top: 8.2%; left: 11%; width: 50%; height: 2%; font-size: 2.8vw; }

    /* --- BALANCE & NAME DISPLAY --- */
    .user-info-patch {
      position: absolute;
      top: 13.4%;
      left: 17%;
      width: 65%;
      height: 3%;
      background: #f1c75b; 
      display: flex;
      align-items: center;
      color: #3d2b00;
      font-weight: 800;
      font-size: 3.2vw;
      z-index: 6;
      pointer-events: none;
    }

    /* --- CLICKABLE ZONES --- */
    .click-zone {
      position: absolute;
      cursor: pointer;
      z-index: 10;
    }

    .cs-btn { top: 1.5%; right: 4%; width: 35%; height: 5%; border-radius: 20px; }
    .lottery-card { top: 18.5%; left: 3%; width: 31%; height: 16%; }
    .original-card { top: 18.5%; left: 34.5%; width: 31%; height: 16%; }
    .slots-card { top: 18.5%; right: 3%; width: 31%; height: 16%; }
    
    .sports-btn { top: 35.5%; left: 3%; width: 31%; height: 13%; }
    .popular-btn { top: 35.5%; left: 34.5%; width: 31%; height: 13%; }
    .casino-btn { top: 35.5%; right: 3%; width: 31%; height: 13%; }

    .nav-home { bottom: 0; left: 0; width: 25%; height: 8%; }
    .nav-account { bottom: 0; right: 0; width: 25%; height: 8%; }

    @media (min-width: 500px) {
      .main-logo { font-size: 24px; }
      .welcome-text { font-size: 14px; }
      .user-info-patch { font-size: 16px; }
    }
  </style>
</head>
<body>

  <div class="container">
    <img src="https://i.ibb.co/XZ5CDrdM/Picsart-26-01-25-12-57-30-867.jpg" class="bg-img">

    <div class="brand-overlay main-logo">JAHARUL GAME</div>
    <div class="brand-overlay welcome-text">Welcome to Jaharul Game</div>

    <div class="user-info-patch">
      UID: <span id="userName" style="margin-left:5px;">Loading...</span> 
      <span style="margin: 0 5px;">|</span> 
      â‚¹<span id="balDisplay">0.00</span>
    </div>

    <div class="click-zone cs-btn" onclick="window.location.href='https://t.me/your_handle'"></div> 
    <div class="click-zone lottery-card" onclick="location.href='wingo_game.html'"></div>
    <div class="click-zone original-card" onclick="location.href='original.html'"></div>
    <div class="click-zone slots-card" onclick="location.href='slots.html'"></div>
    
    <div class="click-zone sports-btn" onclick="location.href='sports.html'"></div>
    <div class="click-zone popular-btn" onclick="location.href='popular.html'"></div>
    <div class="click-zone casino-btn" onclick="location.href='casino.html'"></div>

    <div class="click-zone nav-home" onclick="location.href='index.html'"></div>
    <div class="click-zone nav-account" onclick="location.href='account.html'"></div>
  </div>

  <script>
    // --- ORIGINAL DATABASE BALANCE SYNC ---
    async function syncOriginalBalance() {
        // LocalStorage se phone number lena (Jo login/register ke waqt set hua tha)
        const userPhone = localStorage.getItem('userPhone'); 
        
        if (!userPhone) {
            console.log("User not logged in");
            document.getElementById('userName').innerText = "GUEST";
            // Agar aap chahte hain ki bina login ke page na khule toh niche wali line on kar dein:
            // window.location.href = 'login.html';
            return;
        }

        try {
            // Humne userName ki jagah phone number dikha diya
            document.getElementById('userName').innerText = userPhone;

            // Database (user.js) se fresh balance mangwana
            const response = await fetch(`/api/user?phone=${userPhone}`);
            const data = await response.json();

            if (data.success) {
                const display = document.getElementById('balDisplay');
                if (display) display.innerText = data.balance.toFixed(2);
            }
        } catch (err) {
            console.error("Sync Error:", err);
        }
    }

    // Page load hote hi chalega
    window.onload = syncOriginalBalance;
    
    // Har 10 second mein balance refresh karega
    setInterval(syncOriginalBalance, 10000);
  </script>

</body>
</html>
